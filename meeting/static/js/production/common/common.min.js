Common=function(){var e={},a=$(".common-wrapper");e.initialize=function(e){n(e)};var t=function(){a.on("click","a.item",function(){$self=$(this),a.find("a.item").removeClass("active"),$self.addClass("active"),a.find("div.dataitem").addClass("transition hidden"),a.find("div.dataitem[data-type="+$self.attr("data-type")+"]").removeClass("transition hidden")})},i=function(){t();var i=function(e,t,i){a.on("click",t,function(){i.addClass("transition hidden"),e.css({display:"block"})})};a.on("click","a.ui.green.ribbon.label[data-type=addupdate-pandetail]",function(e){e.stopPropagation(),e.preventDefault(),$self=$(this);var t=$self.attr("data-href");$panDetailSegment=a.find("div.ui.segment[data-item=pandetail]"),$panDetailContainer=a.find("div.ui.segment[data-type=addupdate-pandetail]"),data={},$.ajax({type:"get",url:t,data:data}).done(function(e){processingModal.hide(),$panDetailContainer.removeClass("transition hidden"),$panDetailSegment.css({display:"none"}),$panDetailContainer.find("div.segment-container").html(e),$(".ui.dropdown").dropdown(),$form=$panDetailContainer.find("form.ui.form[data-form=add-update-pan]"),i($panDetailSegment,"a.ui.tiny.uppercase.negative.button",$panDetailContainer),function(i){$profileContainer=a.find("div.dataitem[data-type=profile]"),i.form({inline:!0,on:"submit",keyboardShortcuts:!1,fields:{fullName:{identifier:"fullname",rules:[textEmptyRule]},panNumber:{identifier:"pan-number",rules:[textEmptyRule]}},onSuccess:function(e,t){e.stopPropagation(),e.preventDefault(),ajaxFormSubmit(i,function(e){$profileContainer.html(e)})}})}($form)}).fail(function(e,t,i){processingModal.hide(),notify.error(e.responseJSON.message)})}),a.on("click","a.ui.red.ribbon.label[data-type=addupdate-address]",function(e){e.stopPropagation(),e.preventDefault(),$self=$(this);var t=$self.attr("data-href");$addressSegment=a.find("div.ui.segment[data-item=address]"),$addAddressContainer=a.find("div.ui.segment[data-type=addupdate-address]"),data={},$.ajax({type:"get",url:t,data:data}).done(function(e){processingModal.hide(),$addAddressContainer.removeClass("transition hidden"),$addressSegment.css({display:"none"}),$addAddressContainer.find("div.segment-container").html(e),$(".ui.dropdown").dropdown(),$form=$addAddressContainer.find("form.ui.form[data-form=add-update-address]"),i($addressSegment,"a.ui.tiny.uppercase.negative.button",$addAddressContainer),function(i){$profileContainer=a.find("div.dataitem[data-type=profile]"),i.form({inline:!0,on:"submit",keyboardShortcuts:!1,fields:{firstLine:{identifier:"firstline",rules:[textEmptyRule]},secondLine:{identifier:"secondline",rules:[textEmptyRule]},city:{identifier:"city",rules:[textEmptyRule]},pincode:{identifier:"pincode",rules:[textEmptyRule]}},onSuccess:function(e,t){e.stopPropagation(),e.preventDefault(),ajaxFormSubmit(i,function(e){$profileContainer.html(e)})}})}($form),function(e){a.on("click","a.ui.red.ribbon.label[data-type=edit-form]",function(){e.find("input[type=text]").attr("readonly",!1),e.find(".ui.positive.action.submit.button").attr("disabled",!1)})}($form)}).fail(function(e,t,i){processingModal.hide(),notify.error(e.responseJSON.message)})})},n=function(e){switch(e){case"homepage":!function(){$header=$("div.ui.top.fixed.borderless.menu.page-header");$(".ui.search").search({source:[{title:"Andorra"},{title:"United Arab Emirates"},{title:"Afghanistan"},{title:"Antigua"},{title:"Anguilla"},{title:"Albania"},{title:"Armenia"},{title:"Netherlands Antilles"},{title:"Angola"},{title:"Argentina"},{title:"American Samoa"},{title:"Austria"},{title:"Australia"},{title:"Aruba"},{title:"Aland Islands"},{title:"Azerbaijan"},{title:"Bosnia"},{title:"Barbados"},{title:"Bangladesh"},{title:"Belgium"},{title:"Burkina Faso"},{title:"Bulgaria"},{title:"Bahrain"},{title:"Burundi"},{title:"India"},{title:"Kota"},{title:"Jaipur"}]}),$header.on("click","a.ui.inverted.button[data-type=login]",function(){$self=$(this),$modal=a.find("div.ui.modal[data-type=loginmodal]"),$modal.modal({closable:!1,detachable:!1}).modal("show")}),$header.on("click","a.ui.inverted.button[data-type=signup]",function(){$self=$(this),$modal=a.find("div.ui.modal[data-type=signupmodal]"),$modal.modal({closable:!1,detachable:!1}).modal("show")}),$modal=a.find("div.ui.modal[data-type=loginmodal]"),$modal.on("click","input[type=submit]",function(){$form=$modal.find("form.ui.login.form");var e=$form.attr("action");event.stopPropagation(),event.preventDefault();var t={username:$("input[type=text][name=username]").val(),password:$("input[type=password][name=password]").val(),csrfmiddlewaretoken:getCSRF()};$.ajax({type:"post",url:e,data:t}).done(function(e){processingModal.hide(),$modal.modal("hide"),window.location.href=e.redirect_url}).fail(function(e,t,i){processingModal.hide(),$form.find("div.errors").removeClass("transition hidden"),$modal.transition("shake")})}),$modal=a.find("div.ui.modal[data-type=signupmodal]"),$form=$modal.find("form.ui.signup-form.form"),stopDefaultFormSubmit($form),$form.on("click","input[type=submit]",function(e){$self=$(this)}),$form.form({inline:!0,on:"submit",keyboardShortcuts:!1,fields:{firstName:{identifier:"firstname",rules:[textEmptyRule]},lastName:{identifier:"lastname",rules:[textEmptyRule]},password:{identifier:"password",rules:[textEmptyRule]},email:{identifier:"email",rules:[textEmptyRule]},mobileNo:{identifier:"mobileno",rules:[textEmptyRule]}},onSuccess:function(e,t){""==$("input[type=hidden][name=registeruser-type]").val()?notify.error("Please select where you want to register as hostel owner or a tenant"):ajaxFormSubmit($form,function(e){window.location.href=e.redirect_url})}}),$modal=a.find("div.ui.modal[data-type=signupmodal]"),$modal.on("click","a.ui.toggle.button",function(){$self=$(this),a.find("a.ui.toggle.button").removeClass("positive"),$self.addClass("positive"),$("input[type=hidden][name=registeruser-type]").val($self.attr("data-type"))})}();break;case"tenantpage":t();break;case"hostelownerpage":i();break;case"hosteldetail":$(".owl-carousel").owlCarousel({center:!0,items:1,margin:10,nav:!0,dots:!0,navText:["<i class='left chevron icon'></i>","<i class='right chevron icon'></i>"],dotsEach:!0,singleItem:!0}),$form=a.find("form.ui.review.form"),$reviewContainer=a.find("div.sixteen.wide.column[data-type=hostelreview]"),stopDefaultFormSubmit($form),$form.form({inline:!0,on:"submit",keyboardShortcuts:!1,fields:{Review:{identifier:"review",rules:[textEmptyRule]}},onSuccess:function(e,t){ajaxFormSubmit($form,function(e){$reviewContainer.html(e)})}});break;case"addupdatehostel":a.on("click","i.red.remove.icon",function(){$self=$(this),console.log("self = ",$self),$imageContainer=a.find("div.hostel-images[data-container=hostel-images]"),console.log("href = ",$imageContainer.attr("data-href")),event.stopPropagation(),event.preventDefault();var e={csrfmiddlewaretoken:getCSRF(),picture:$self.attr("data-item")};$.ajax({type:"post",url:$imageContainer.attr("data-href"),data:e}).done(function(e){processingModal.hide(),$imageContainer.html(e)}).fail(function(e,t,i){processingModal.hide()})})}};return e}();