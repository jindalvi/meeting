var processingModal={show:function(e){var t=document.getElementById("processing-modal");null!=e&&$(t).find("div.message").html(e),$(t).modal({context:"body",closable:!1,detachable:!1,observeChanges:!0,onHidden:function(){$(t).find("div.message").html("Processing Your Request")}}).modal("hide").modal("show")},hide:function(){var e=document.getElementById("processing-modal");$(e).modal({context:"body",closable:!1,detachable:!1,observeChanges:!0}).modal("hide")}},notify={generate:function(e,t){var n=this,a=document.createElement("div");a.className+=e,window.setTimeout(function(){a.className+=" show-notify"},500);var o=document.createElement("div");o.setAttribute("class","type"),0<e.search("success")&&(o.className+=" success",o.innerHTML="&#x2714; Success"),0<e.search("error")&&(o.className+=" error",o.innerHTML="&#x2716; Error"),0<e.search("toast")&&(o.className+=" toast",o.innerHTML="&#x2709; Information");var i=document.createElement("div");i.setAttribute("class","message"),i.innerHTML=t,a.appendChild(i),a.appendChild(o),body=document.getElementsByTagName("body")[0],body.appendChild(a),$("div.ui.dimmer").hasClass("visible")&&(console.log("here"),a.style.zIndex=1001),a.addEventListener("click",function(){n.dismiss()}),window.setTimeout(function(){a.className+=" hide-notify",a.classList.remove("show-notify"),window.setTimeout(function(){a.parentNode==body&&body.hasChildNodes(a)&&(a.style.zIndex=0,body.removeChild(a))},1200)},5e3)},success:function(e){this.generate("notify notify-success",e)},error:function(e){this.generate("notify notify-error",e)},toast:function(e){this.generate("notify notify-toast",e)},dismiss:function(){var e=document.getElementsByClassName("notify")[0];body=document.getElementsByTagName("body")[0],null!=e&&(e.className+=" hide-notify",e.classList.remove("show-notify"),window.setTimeout(function(){e.style.zIndex=0,body.removeChild(e)},1200))}};function getDomainName(e){}$(document).ready(function(){$("header").on("click","a.item.page-menu",function(e){e.preventDefault(),e.stopPropagation(),$sidebar=$("body").find(".ui.left.sidebar.menu"),$sidebar.sidebar({scrollLock:!0,exclusive:!0,onHidden:function(){$("body").removeClass("pushable")}}).sidebar("toggle")})}),function(){$(".ui.dropdown").dropdown({allowTab:!0}),$(".ui.checkbox").checkbox({}),$(".ui.accordion").accordion({}),$(".ui.progress").progress({}),$(".ui.search.selection.dropdown").dropdown({allowTab:!1,forceSelection:!0,selectOnKeydown:!1});var e=document.querySelectorAll("div.sui-calendar");for(index=0;index<e.length;index++){element=e[index],console.log("element = ",element);var t={},n=element.getAttribute("data-type"),a=element.getAttribute("data-max"),o=element.getAttribute("data-min"),i=new Date;null==n&&(n="date");t={type:n};if(null!=a)if("today"==a)t.maxDate=i;else{a=new Date(a);t.maxDate=a}if(null!=o)if("today"==o)t.minDate=i;else{o=new Date(o);t.minDate=o}$(element).calendar(t)}}(),$("body").on("keypress","input.numeric",function(e){$element=$(this);var t=(e=e||window.event).which?e.which:e.keyCode;return!(31<t&&(t<48||57<t))}),$("body").on("keypress","input.float",function(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(31<t&&(t<48&&46!=t||57<t)||46==t&&$(this).val().includes("."))}),function(){for(var e=document.getElementsByClassName("deferred-image"),t=0;t<e.length;t++)e[t].getAttribute("data-src")&&e[t].setAttribute("src",e[t].getAttribute("data-src"))}(),$(".ui.global.search").search({apiSettings:{url:"/search/?q={query}",cache:!1}}),$("header").on("click","a.item.application-menu",function(e){e.preventDefault(),e.stopPropagation(),$sidebar=$("body").find(".ui.applications.sidebar"),$sidebar.sidebar({scrollLock:!0,exclusive:!0,onHidden:function(){$("body").removeClass("pushable")}}).sidebar("toggle")}),$(document).on("change blur","input[type=text], input[type=password], input[type=number], input[type=email], input.dropdown-hidden",function(){var e=$(this).val();null!=e&&(0<(e=e.trim()).length?$(this).hasClass("dropdown-hidden")?$(this).parent().addClass("has-value"):$(this).addClass("has-value"):$(this).hasClass("dropdown-hidden")?$(this).parent().removeClass("has-value"):$(this).removeClass("has-value"))}),$(document).on("change",".ui.search.dropdown > input[type=hidden]",function(){var e=$(this).val();null!=e&&(0<(e=e.trim()).length?$(this).parent().addClass("has-value"):$(this).parent().removeClass("has-value"))}),$("header").on("click","a.item.page-menu",function(e){e.preventDefault(),e.stopPropagation(),$sidebar=$("body").find(".ui.left.sidebar.options.menu"),$sidebar.sidebar({scrollLock:!0,exclusive:!0,onHidden:function(){$("body").removeClass("pushable")}}).sidebar("toggle")}),$(document).on("reset","form",function(){$form=$(this),$form.find(".ui.dropdown").each(function(e,t){$(t).dropdown("clear")}),$form.find("input[type=text]").each(function(e,t){$(t).removeClass("has-value"),$(t).attr("value","")}),$form.find("input[type=radio][checked]").each(function(e,t){$(t).removeAttr("checked")})}),$("header").on("click","a.item.user-menu",function(e){e.preventDefault(),e.stopPropagation(),$sidebar=$("body").find(".ui.right.sidebar.user.menu"),$sidebar.sidebar({scrollLock:!0,exclusive:!0,onHidden:function(){$("body").removeClass("pushable")}}).sidebar("toggle")}),$("body").on("click","div.show-more",function(e){$self=$(this),$container=$self.parent(),$elements=$container.find(".collapsed.item").slice(0,3),$elements.each(function(e,t){$(t).transition({duration:500,animation:"slide up"}),$(t).removeClass("collapsed")}),$collapsedItems=$container.find(".collapsed.item"),0==$collapsedItems.length&&$(this).addClass("disabled")}),$("body").on("click","a.dated-records",function(e){e.preventDefault(),e.stopPropagation(),$self=$(this),$item=$self.parent().parent(),$item.find("div.dated-records-container").transition({animation:"slide down"})}),$("body").on("click","a.correction-records",function(e){e.preventDefault(),e.stopPropagation(),$self=$(this),$item=$self.parent().parent(),$item.find("div.correction-records-container").transition({animation:"slide down"})}),window.onload=function(e){var t=$(window).scrollTop();.75*window.outerHeight<t?$("body").find("div.scroll-to-top").addClass("active"):$("body").find("div.scroll-to-top").removeClass("active")},$(window).scroll(function(e){var t=$(window).scrollTop();.75*window.outerHeight<t?$("body").find("div.scroll-to-top").addClass("active"):$("body").find("div.scroll-to-top").removeClass("active")}),$("body").on("click","div.scroll-to-top",function(){scrollToStart()}),$(function(){window.onload=function(){$("div.figure[data-animate=yes]").each(function(e,t){if(0<$(t).find("span.value").length){var n=$(t).attr("data-canonical");$(t).find("span.value").data("count",parseInt(n,10)),$(t).find("span.value").html("0"),function e(t){var n=parseInt(t.data("count"),10);if(0<t.find("span.value").length){if((a=parseInt(t.find("span.value").html(),10))>=t.data("count"))return void(void 0!==t.attr("data-value")&&t.find("span.value").html(t.attr("data-value")));a+=parseInt(.05*n),t.find("span.value").html(a),a!==t.find("span.value").data("count")&&setTimeout(function(){e(t.find("span.value"))},10)}else{var a;if((a=parseInt(t.html(),10))===t.data("count"))return void(void 0!==t.attr("data-value")&&t.html(t.attr("data-value")));a+=parseInt(.05*n),t.html(a),a!==t.data("count")&&setTimeout(function(){e(t)},10)}}($(t).find("span.value"))}})}}),function(){var e=window.location.hostname,t="https:"==window.location.protocol?"wss":"ws",n=(e=(e=e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)).substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1),document.querySelector("a.item.notifications"));if(null!=n&&null!=n){var a=n.getAttribute("data-url");null!=a&&(socket=new WebSocket(t+"://"+a),socket.onerror=function(e){console.log(e)},socket.onmessage=function(e){console.log("message")},socket.onopen=function(){socket.send("Connected")})}}();var initializeControls=function(e){console.log("form = ",e),e.find(".ui.dropdown").dropdown({allowTab:!0}),e.find(".ui.dropdown.disabled").dropdown({allowTab:!1}),e.find(".ui.checkbox").checkbox({}),e.find(".ui.accordion").accordion({}),e.find(".ui.progress").progress({}),e.find(".ui.search.dropdown").dropdown({allowTab:!1,forceSelection:!1,selectOnKeydown:!1})},animateForm=function(e,t,n,a,o){switch(a){case"open":$form=e.find(t),$form.transition(n),$("body").animate({scrollTop:$form.offset().top-80},600);break;case"close":$form=e.find(t),$exitTarget=e.find(o),$("body").animate({scrollTop:$exitTarget.offset().top-80},600),$form.transition(n)}},scrollToStart=function(){$("html, body").animate({scrollTop:0},600)},scrollToContainer=function(e){$("body, html").animate({scrollTop:e.offset().top-80},600)},stopDefaultFormSubmit=function(e){void 0===e?$(".ui.form").on("submit",function(e){return e.preventDefault(),!1}):e.on("submit",function(e){return e.preventDefault(),!1})},showConfirmationModal=function(e){$confirmationModal=$("body").find(".ui.confirmation.modal"),$message=$confirmationModal.find("h4.confirmation-message");null!=e&&e.hasOwnProperty("replacementMessage")&&$message.html(e.replacementMessage),$confirmationModal.modal({closable:!1,detachable:!1,allowMultiple:!0,observeChanges:!0,transition:"fly up",onApprove:function(){$confirmationModal.modal("hide"),window.setTimeout(function(){e.onApprove()},400)},onDeny:function(){e.hasOwnProperty("onDeny")?e.onDeny():$confirmationModal.modal("hide"),processingModal.hide()},onHide:function(){e.replacementMessage?$message.html(e.replacementMessage):$message.html("Are you sure you want to continue?")}}).modal("show").modal("cache sizes")},ajaxFormSubmit=function(a,t,o){var e=a.serializeArray().filter(function(e){if(""!=e.value)return e});$.ajax({url:a.attr("action"),method:a.attr("method"),data:e,global:!1,beforeSend:function(){a.find(".ui.tiny.button").addClass("disabled"),processingModal.show()}}).done(function(e){null!=t&&(t(e),a.find(".ui.tiny.button").removeClass("disabled")),null==t&&e.hasOwnProperty("redirect")&&(window.location.href=e.redirect),null==t&&e.hasOwnProperty("message")&&(a.form("reset"),$("body").toast({class:"success",position:"top right",message:e.message}),a.find(".ui.tiny.button").removeClass("disabled"))}).fail(function(e,t,n){processingModal.hide(),a.find(".ui.tiny.button").removeClass("disabled"),null!=o?o(e,t):$("body").toast({class:"error",position:"right top",message:e.responseJSON.message})}).always(function(e,t){window.setTimeout(function(){processingModal.hide()},400)})},ajaxDeleteItem=function(t,e,n,a){var o={},i=null;null!=t.attr("data-delete-cnfmsg")?(i=t.attr("data-delete-cnfmsg"),o.replacementMessage=i):o.replacementMessage="Are you sure you want to delete this item?",o.onApprove=function(){$.ajax({method:"POST",url:e,data:{csrfmiddlewaretoken:getCSRF()}}).done(function(e){null!=n?n(e):(notify.success(e.message),t.remove()),$confirmationModal.find("div.positive.action.button").html("Yes"),$confirmationModal.find("div.action.button").removeClass("disabled"),processingModal.hide()}).fail(function(e,t){processingModal.hide(),null!=a?a(e,status):notify.error(e.responseJSON.message),$confirmationModal.find("div.positive.action.button").html("Yes"),$confirmationModal.find("div.action.button").removeClass("disabled")})},showConfirmationModal(o)},ajaxFileUpload=function(n,e,t,a){$.ajax({url:n.attr("action"),method:n.attr("method"),data:e,enctype:"multipart/form-data",processData:!1,contentType:!1,success:function(e){null!=t?t(e):e.hasOwnProperty("message")&&notify.success(e.message)},error:function(e,t){processingModal.hide(),null!=a?a(e,t):notify.error(e.responseJSON.message)},complete:function(e,t){n.find(".ui.submit.button").removeClass("disabled"),window.setTimeout(function(){processingModal.hide()},400)}})},ajaxMultiPartFormSubmit=function(a,t,o){var i=new FormData,e=a.serializeArray().filter(function(e){if(""!=e.value)return e});$.each(e,function(e,t){i.append(t.name,t.value)}),$.each(a.find("input[type=file]"),function(e,t){var n=$(t).prop("files");if(console.log(n),0<n.length)for(var a=0;a<n.length;a++){var o=n[a];i.append($(t).attr("name"),o)}}),$.ajax({url:a.attr("action"),method:a.attr("method"),data:i,enctype:"multipart/form-data",processData:!1,contentType:!1,beforeSend:function(){processingModal.show(),a.find(".ui.button").addClass("disabled")}}).done(function(e){null!=t&&(t(e),a.find(".ui.button").removeClass("disabled")),null==t&&e.hasOwnProperty("redirect")&&(window.location.href=e.redirect),null==t&&e.hasOwnProperty("message")&&(a.form("reset"),notify.success(e.message),a.find(".ui.button").removeClass("disabled"))}).fail(function(e,t,n){processingModal.hide(),null!=o?o(e,t):null!=e.responseJSON.message?notify.error(e.responseJSON.message):notify.error("Request could not be completed"),a.find(".ui.button").removeClass("disabled")}).always(function(e,t){processingModal.hide()})},customAjaxMultipartSubmit=function(a,e,t,o){$.ajax({url:a.attr("action"),method:a.attr("method"),data:e,enctype:"multipart/form-data",processData:!1,contentType:!1,beforeSend:function(){processingModal.show(),a.find(".ui.button").addClass("disabled")}}).done(function(e){null!=t&&(t(e),a.find(".ui.button").removeClass("disabled")),null==t&&e.hasOwnProperty("redirect")&&(window.location.href=e.redirect),null==t&&e.hasOwnProperty("message")&&(a.form("reset"),notify.success(e.message),a.find(".ui.button").removeClass("disabled"))}).fail(function(e,t,n){processingModal.hide(),null!=o?o(e,t):null!=e.responseJSON.message?notify.error(e.responseJSON.message):notify.error("Request could not be completed"),a.find(".ui.button").removeClass("disabled")}).always(function(e,t){processingModal.hide()})},getCSRF=function(){return document.getElementsByName("csrfmiddlewaretoken")[0].value},classicFileUploader=function(e){$form=e.formElement,$fileField=e.fileElement,validExtensionRegex=e.validExtensionRegex,validationFailureMessage=e.validationFailureMessage,$fileField.on("change",function(e){for(var t=new Array,n=this.files,a=0;a<n.length;a++){var o=n[a];t.push(o.name);var i=new FileReader;$progressMessage=$form.find("div.progress.message"),i.onloadstart=function(){$form.find(".ui.submit.button").addClass("disabled"),validExtensionRegex&&(fileName=o.name.toLowerCase(),validExtensionRegex.test(fileName)||($progressMessage.empty(),$form.find(".ui.submit.button").removeClass("disabled"),notify.error(validationFailureMessage),i.abort()))},i.onprogress=function(e){Math.round(e.loaded/e.total*100)<100?$progressMessage.html(Math.round(e.loaded/e.total*100)+"% imported"):$progressMessage.html("<i class='green cirle check icon'></i>File(s) <b>("+t.join(", ")+")</b> imported successfully!"),$form.addClass("in-progress")},i.onload=function(){$fileField.prop("files",n),$form.addClass("complete").removeClass("in-progress"),$form.find(".ui.submit.button").removeClass("disabled")},i.readAsDataURL(o)}})},isDragAndDropAvailable=function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window},dragAndDrop=function(e){$form=e.formElement,$dragAndDropBox=e.dragAndDropElement;var a=null;$progressMessage=$form.find("div.progress.message"),$dragAndDropBox.on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){$dragAndDropBox.addClass("is-dragover")}).on("dragleave dragend drop",function(){$dragAndDropBox.removeClass("is-dragover")}).on("drop",function(e){var t=(a=e.originalEvent.dataTransfer.files)[0],n=new FileReader;new Array;$progressMessage=$form.find("div.progress.message"),n.onloadstart=function(){$form.find(".ui.submit.button").addClass("disabled"),validExtensionRegex&&(fileName=t.name.toLowerCase(),validExtensionRegex.test(fileName)||($progressMessage.empty(),$form.find(".ui.submit.button").removeClass("disabled"),notify.error(validationFailureMessage),n.abort()))},n.onprogress=function(e){Math.round(e.loaded/e.total*100)<100?$progressMessage.html(Math.round(e.loaded/e.total*100)+"% imported"):$progressMessage.html("<i class='green cirle check icon'></i>File <b>("+t.name+")</b> imported successfully!"),$form.addClass("in-progress")},n.onload=function(){$fileField.prop("files",a),$form.addClass("complete").removeClass("in-progress"),$form.find(".ui.submit.button").removeClass("disabled")},n.readAsDataURL(t)})},showMore=function(a,e,o,i){a.on("click",e,function(){if($self=$(this),!$self.hasClass("end")){var e=$self.attr("data-page"),t=parseInt(e)*i+1,n=parseInt(e)*i+i;$elements=a.find(o).slice(t,n),$elements.removeClass("hidden"),$self.attr("data-page",parseInt(e)+1),a.find(o).slice(n+1).length<=0&&($self.html("No more items"),$self.addClass("end"))}})},notificationIconUrl="data:image/png;base64,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",spawnNotification=function(e,t){new Notification(e,{icon:notificationIconUrl,body:t})},browserNotification=function(t,n){"Notification"in window?"granted"===Notification.permission?spawnNotification(t,n):"denied"!==Notification.permission&&Notification.requestPermission(function(e){"granted"===e&&spawnNotification(t,n)}):console.log("This browser does not support desktop notification")},showAddUpdateForms=function(e){for(index=0;index<e.length;index++){!function(l){$ns=$("body").find(l.namespace),$ns.on("click",l.target,function(e){e.preventDefault(),e.stopPropagation(),$self=$(this),$forms=$ns.find(l.formContainerSelector),message=document.createElement("div"),message.setAttribute("class","default message"),message.textContent="Fetching forms ...",$forms.html($(message)),$forms.load($self.attr("href"),function(e,t,n){if("error"==t){var a="Form could not be fetched",o=JSON.parse(e);o.hasOwnProperty("message")&&(a=o.message),$forms.find(".default.message").html(a),$forms.find(".default.message").addClass("error")}else for($form=$forms.find(l.formSelector),null!=$self.attr("data-action")&&($inputTypeProcess=$form.find("input[name=process]"),0<$inputTypeProcess.length&&$inputTypeProcess.val($self.attr("data-action"))),l.hasOwnProperty("isStepBased")&&!0===l.isStepBased&&stepify(l.steps),i=0;i<l.callables.length;i++){var s=l.callables[i];s($form)}$("html, body").animate({scrollTop:$forms.offset().top-80},200)})})}(e[index])}},stepify=function(a){for(index=0;index<a.lenght;index++){a[item];var e=a[index];!function(n){$ns=$("body").find(n.namespace),$ns.on("submit",n.formSelector,function(e){$formContainer=$ns.find(n.formContainerSelector),$form=$formContainer.find(n.formSelector),e.preventDefault(),ajaxFormSubmit($form,function(e){if(n.step<a.length){for($formContainer.find("div.form-step[data-order="+(n.step+1)+"] > .content").html(e),$formContainer.find("div.form-step[data-order="+(n.step+1)+"]").addClass("active").siblings("div.form-step").removeClass("active"),$form.form("reset"),initializeControls($formContainer.find("div.form-step.active > .content > form")),i=0;i<n.postExecutionFunctionsToCall.length;i++)!function(e){e($form)}(n.postExecutionFunctionsToCall[i]);var t=a[n.step];for($nextForm=$formContainer.find(t.formSelector),i=0;i<t.preExecutionFunctionsToCall.length;i++)!function(e){e($form)}(t.preExecutionFunctionsToCall[i])}else{for($ns.find(n.targetContainerSelector).html(e),$form.form("reset"),$form.parents(".form-step").removeClass("active"),$ns.find("div.ui.close.button").trigger("click"),$("html, body").animate({scrollTop:$ns.find(n.targetContainerSelector).offset().top},500),i=0;i<n.postExecutionFunctionsToCall.length;i++)!function(e){e($form)}(n.postExecutionFunctionsToCall[i]);n.hasOwnProperty("successMessage")?notify.success(n.successMessage):notify.success("Details for selected item updated")}},function(e,t){notify.error(e.responseJSON.message)})})}(e)}},autoActivateCalendar=function(e){e.find("div.sui-calendar").each(function(e,t){var n=$(t).attr("data-type"),a=$(t).attr("data-max"),o=$(t).attr("data-min"),i=$(t).attr("data-format"),s=$(t).attr("data-default"),l=new Date;null==n&&(n="date");var r={type:n};if("today"==s&&(r.initialDate=l),"yes"==i&&(r.monthFirst=!1,r.formatter={date:function(e,t){return e?e.getDate()+" "+e.toLocaleString("en-us",{month:"short"})+" "+e.getFullYear():""}}),null!=a)if("today"==a)r.maxDate=l;else{a=new Date(a);r.maxDate=a}if(null!=o)if("today"==o)r.minDate=l;else{o=new Date(o);r.minDate=o}$(t).calendar(r)})},closeSection=function(){$("body").on("click","div.ui.close.button",function(){var e,t=$(this).attr("data-form-container");e=null!=$(this).attr("data-segment")?"div.form-container[data-form-container="+t+"]":"div.row.forms[data-form-container="+t+"]",$("body").find(e).slideUp(300,function(){$("body").find(e).empty(),$("body").find(e).removeAttr("style")})})},toggleHiddenContainers=function(t,e,n,a,o,i){$("body").on("click",e,function(e){e.preventDefault(),e.stopPropagation(),$self=$(this),$ns=$("body").find(t),$self.siblings(n).transition("slide down"),$self.hasClass("expanded")?($self.text(a),$self.removeClass("expanded")):($self.text(o),$self.addClass("expanded")),null!=i&&i()})},scrollToForm=function(e){$("html, body").animate({scrollTop:e.offset().top-180},600)},reasonsDropdownChange=function(n){n.on("change","input[type=hidden][name=reason]",function(e){var t=$(this).val();$calendar=n.find("input[name=effectivedate]").parents("div.sui-calendar"),"CORX"==t?$calendar.parents("div.inline.fields").addClass("disabled"):$calendar.parents("div.inline.fields").removeClass("disabled")})},showCollapsedItems=function(){$("body").on("click","div.show-more",function(e){$self=$(this),$container=$self.parent(),$elements=$container.find(".collapsed.item").slice(0,3),$elements.each(function(e,t){$(t).transition({duration:500,animation:"slide up"}),$(t).removeClass("collapsed")}),$collapsedItems=$container.find(".collapsed.item"),0==$collapsedItems.length&&$(this).addClass("disabled")})},tabify=function(t,n,i){$(t).on("click","a.tab.item",function(e){e.preventDefault(),e.stopPropagation(),$self=$(this),$ns=$("body").find(t);var a=null;null!=$self.attr("data-hash")&&(a=$self.attr("data-hash")),$self.addClass("active").siblings("a.tab.item").removeClass("active");var o=document.createElement("div");o.setAttribute("class","default message"),o.textContent="Fetching your page...",$content=$ns.find(n),$content.html($(o)),$content.load($self.attr("href"),function(e,t,n){"error"!=t?(null!=a&&(window.location.hash=a),$content.find("form").each(function(e,t){initializeControls($(t)),autoActivateCalendar($(t))}),null!=i&&$.each(i,function(e,t){t()})):(o.textContent="The page you requested could not be fetched.",o.setAttribute("class","error message"))})});var e=window.location.hash;null!=e&&(e=e.substr(1),0<$(t).find("a.tab.item[data-hash='"+e+"']").length&&$(t).find("a.tab.item[data-hash='"+e+"']").trigger("click"))},constructAlphabeticalMenu=function(e){$ns=$(e.namespace),$ns.find("div.alphabets").each(function(e,t){$records=$(t).siblings("div.expandable.records"),$(t).find("a.alphabet").addClass("disabled");var n,a=new Array;for($records.find("div.item").each(function(e,t){var n=$(t).attr("data-alphabet");a.indexOf(n)<0&&a.push(n)}),i=0;i<a.length;i++){var o=a[i];n=o,$(t).find("a.alphabet[data-alphabet="+n+"]").removeClass("disabled")}})},scrollByAlphabet=function(e){var t=e.namespace;$ns=$(t),$scope=$ns.find(e.scope),$ns.on("click","a.alphabet",function(e){if(e.preventDefault(),e.stopPropagation(),$self=$(this),$alphabets=$self.parents("div.alphabets"),$records=$alphabets.siblings("div.expandable.records"),$self=$(this),!$self.hasClass("disabled")){var t=$self.attr("data-alphabet");if("string"==typeof t){var n="div.item[data-alphabet="+t+"]";$element=$records.find(n),0<$element.length&&($first=$element[0],$records.animate({scrollTop:$first.offsetTop},400))}else $records.animate({scrollTop:0},400)}})},buildElement=function(e){var t=e.type,n=e.values,a="value",o=e.label,s=document.createElement("label");s.textContent=o;var l=document.createElement("i");l.setAttribute("class","bottom-bar");var r,d,c=document.createElement("div");switch(c.setAttribute("class","field"),t){case"dropdown":var u=document.createElement("div");u.setAttribute("class","ui search selection value dropdown");var m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name",a);var f=document.createElement("i");f.setAttribute("class","dropdown icon");var p=document.createElement("div");p.setAttribute("class","default text");var h=document.createElement("div");for(h.setAttribute("class","menu"),n=JSON.parse(n),i=0;i<n.length;i++){var $=n[i];r=$,d=void 0,(d=document.createElement("div")).setAttribute("class","item"),d.setAttribute("data-value",r.value),d.textContent=r.label,h.appendChild(d)}u.appendChild(m),u.appendChild(f),u.appendChild(p),u.appendChild(h),c.appendChild(u),c.appendChild(s),c.appendChild(l);break;case"text":textField=document.createElement("input"),textField.setAttribute("type","text"),textField.setAttribute("name",a),c.appendChild(textField),c.appendChild(s),c.appendChild(l);break;case"float":textField=document.createElement("input"),textField.setAttribute("type","text"),textField.setAttribute("name",a),textField.setAttribute("class","float"),c.appendChild(textField),c.appendChild(s),c.appendChild(l);break;case"numeric":textField=document.createElement("input"),textField.setAttribute("type","text"),textField.setAttribute("name",a),textField.setAttribute("class","numeric"),c.appendChild(textField),c.appendChild(s),c.appendChild(l);break;case"calendar":var v=Math.random().toString(36).substring(2);suiCalendar=document.createElement("div"),suiCalendar.setAttribute("class","sui-calendar"),suiCalendar.setAttribute("id",v),textField=document.createElement("input"),textField.setAttribute("type","text"),textField.setAttribute("name",a),suiCalendar.appendChild(textField),suiCalendar.appendChild(s),suiCalendar.appendChild(l),c.appendChild(suiCalendar);break;default:textField=document.createElement("input"),textField.setAttribute("type","text"),textField.setAttribute("name","value"),c.appendChild(textField),c.appendChild("Value"),c.appendChild(l)}return c},activateCustomAccordion=function(e){null==e&&(e=$("body")),e.on("click","div.title",function(){var e;($self=$(this),$parent=$self.parent(),$parent.hasClass("custom accordion"))&&($parent.hasClass("expanded")&&(e="collapse"),$parent.hasClass("collapsed")&&(e="expand"),"expand"==e&&$parent.addClass("expanded").removeClass("collapsed"),"collapse"==e&&$parent.addClass("collapsed").removeClass("expanded"))})},kroneckerProduct=function(e,t){for(var n=e.length,a=t.length,o=n*a,i=new Array(o),s=0,l=0,r=0;r<o;r++)a<l&&(l=0,s++),i[r]=[].concat(e[s],t[l]),l++;return i},activateCarousel=function(){for(var o=document.querySelector("div.slider"),e=o.querySelectorAll("div.item"),t=0;t<e.length;t++){e[t].setAttribute("data-order",t+1)}setInterval(function(){var e=o.querySelectorAll("div.item"),t=o.querySelector("div.item.active");if(t.getAttribute("data-order")==e.length){var n=e[0];t.classList.remove("active"),n.classList.add("active")}else{var a=t.nextElementSibling;t.classList.remove("active"),a.classList.add("active")}},2e3)},textEmptyRule={type:"empty",prompt:"Please enter a value"},dropdownEmptyRule={type:"empty",prompt:"Please select an option"},searchDropdownEmptyRule={type:"empty",prompt:"Please select an option"},stringValidationRule={type:"regExp[/^[a-zA-Z]+$/]",prompt:"Please enter alphabets only"},nameLengthValidationRule={type:"minLength[2]",prompt:"Your name must be at least {ruleValue} characters"},emailValidationRule={type:"email",prompt:"Enter a valid email address"},fileEmptyRule={type:"empty",prompt:"Please select a file"},checkboxEmptyRule={type:"checked",prompt:"Please select atleast one option"};